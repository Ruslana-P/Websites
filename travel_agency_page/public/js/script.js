!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ssm=t()}(this,(function(){"use strict";function e(e,t){e.forEach((function(e){return e(t)}))}var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=[],i=function(){},s=function(){function s(e){if(t(this,s),this.id=e.id||Math.random().toString(36).substr(2,9),this.query=e.query||"all",this.options=Object.assign({},{onEnter:[],onLeave:[],onResize:[],onFirstRun:[]},e),"function"==typeof this.options.onEnter&&(this.options.onEnter=[this.options.onEnter]),"function"==typeof this.options.onLeave&&(this.options.onLeave=[this.options.onLeave]),"function"==typeof this.options.onResize&&(this.options.onResize=[this.options.onResize]),"function"==typeof this.options.onFirstRun&&(this.options.onFirstRun=[this.options.onFirstRun]),!1===this.testConfigOptions("once"))return this.valid=!1,!1;this.valid=!0,this.active=!1,this.init()}return n(s,[{key:"init",value:function(){var e=this;this.test=window.matchMedia(this.query),this.test.matches&&this.testConfigOptions("match")&&this.enterState(),this.listener=function(t){var n=!1;t.matches?e.testConfigOptions("match")&&(e.enterState(),n=!0):(e.leaveState(),n=!0),n&&i()},this.test.addListener(this.listener)}},{key:"enterState",value:function(){e(this.options.onFirstRun,this.eventData("firstRun")),e(this.options.onEnter,this.eventData("enter")),this.options.onFirstRun=[],this.active=!0}},{key:"leaveState",value:function(){e(this.options.onLeave,this.eventData("leave")),this.active=!1}},{key:"resizeState",value:function(){this.testConfigOptions("resize")&&e(this.options.onResize,this.eventData("resize"))}},{key:"destroy",value:function(){this.test.removeListener(this.listener)}},{key:"attachCallback",value:function(e,t,n){switch(e){case"enter":this.options.onEnter.push(t);break;case"leave":this.options.onLeave.push(t);break;case"resize":this.options.onResize.push(t)}"enter"===e&&n&&this.active&&t(this.eventData(e))}},{key:"testConfigOptions",value:function(e){var t=this,n=!0;return o.forEach((function(o){void 0!==t.options[o.name]&&o.when===e&&!1===o.test.bind(t)()&&(n=!1)})),n}},{key:"eventData",value:function(e){return{eventType:e,state:this}}}],[{key:"addConfigOption",value:function(e){o.push(e)}},{key:"getConfigOptions",value:function(){return o}},{key:"removeConfigOption",value:function(e){o.forEach((function(t,n){t.name===e&&o.splice(n,1)}))}},{key:"setStateChangeMethod",value:function(e){if("function"!=typeof e)throw new Error("Not a function");i=e}}]),s}();return new(function(){function e(){t(this,e),this.states=[],this.resizeTimer=null,this.configOptions=[],window.addEventListener("resize",function(e){var t=this,n=void 0;return function(){for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame((function(){n=null,e.apply(t,i)}))}}(this.resizeBrowser.bind(this)),!0)}return n(e,[{key:"addState",value:function(e){var t=new s(e);return t.valid&&this.states.push(t),t}},{key:"addStates",value:function(e){var t=this;e.forEach((function(e){return t.addState(e)}))}},{key:"getState",value:function(e){return this.states.filter((function(t){return t.id===e}))[0]||!1}},{key:"isActive",value:function(e){return(this.getState(e)||{}).active||!1}},{key:"getStates",value:function(e){var t=this;return void 0===e?this.states:e.map((function(e){return t.getState(e)}))}},{key:"removeState",value:function(e){var t=this;this.states.forEach((function(n,o){n.id===e&&(n.destroy(),t.states.splice(o,1))}))}},{key:"removeStates",value:function(e){var t=this;e.forEach((function(e){return t.removeState(e)}))}},{key:"removeAllStates",value:function(){this.states.forEach((function(e){return e.destroy()})),this.states=[]}},{key:"addConfigOption",value:function(e){var t=e.name,n=void 0===t?"":t,o=e.test,i=void 0===o?null:o,r=e.when,a=void 0===r?"resize":r;""!==n&&null!==i&&s.addConfigOption({name:n,test:i,when:a})}},{key:"removeConfigOption",value:function(e){s.removeConfigOption(e)}},{key:"getConfigOptions",value:function(e){var t=s.getConfigOptions();return"string"==typeof e?t.filter((function(t){return t.name===e})):t}},{key:"resizeBrowser",value:function(){var e,t;(e=this.states,t="active",e.filter((function(e){return e[t]&&!0===e[t]}))).forEach((function(e){e.resizeState()}))}},{key:"stateChange",value:function(e){s.setStateChangeMethod(e)}}]),e}())}));let offers=[{title:"Подорож яхтою поблизу Одеси",type:"yacht",price:400,place:"odesa",duration:4},{title:"Автобусний тур до Києва",type:"bus",price:900,place:"kiev",duration:24},{title:"Поїздки джипами поблизу Харкова",type:"jeep",price:600,place:"kharkiv",duration:3},{title:"Автобусний тур до Мукачева",type:"bus",price:750,place:"karpaty",duration:18},{title:"Каньйонінг поблизу Івано-Франківськ",type:"canyon",price:700,place:"iv-fran",duration:8}],renderedOffers=[...offers];function render(e,t){t.innerHTML=e.map((e=>`<div class="tour">\n            <h3 class="tour-title">${e.title}</h3>\n            <span class="tour-dur">${e.duration} годин</span>\n            <span class="tour-price">${e.price}</span>\n        </div>`)).join("")}const tours=document.getElementById("chosen-tours");render(offers,tours);const options=document.querySelector(".options");options.addEventListener("change",(function(e){let t=e.target.value;if("all"===t)render(offers,tours),renderedOffers=[...offers];else{let e=offers.filter((e=>e.type===t));renderedOffers=[...e],console.log(renderedOffers),render(e,tours)}}));const filter=document.querySelector(".form-filters");function sortOffers(e){e.preventDefault();const t=document.querySelector("#money1").value,n=document.querySelector("#money2").value,o=document.querySelectorAll('input[name="place"]');let i="";for(let e=0;e<o.length;e++)o[e].checked&&(i=o[e].value);const s=+document.querySelector("#hour1").value,r=+document.querySelector("#hour2").value;render(renderedOffers.filter((e=>e.price>=t&&e.price<=n&&(e.place===i||"all-regions"===i)&&e.duration>=s&&e.duration<=r)),tours)}function formValidation(e,t){e.preventDefault();const n=t.elements;let o=!0;for(el of n)el.checkValidity()||(o=!1,el.parentElement.classList.add("non-valid"),el.addEventListener("input",(function e(t){t.target.parentElement.classList.remove("non-valid"),t.target.removeEventListener("input",e)})));return o}filter.addEventListener("click",(function(e){const t=e.target,n=document.querySelector(".filters");if(t.classList.contains("more-filters"))n.classList.toggle("filters-close"),t.classList.toggle("up");else if(t.classList.contains("filter-header")||t.closest(".filter-header")){const e=t.closest(".filter");e.classList.contains("close")?e.classList.replace("close","open"):e.classList.replace("open","close")}else t.classList.contains("btn-filter")&&formValidation(e,document.querySelector(".form-filters"))&&sortOffers(e)})),document.onReload=document.querySelector(".btn-reset").click();const burger=document.querySelector(".menu-burger");function sendEmail(){let e={name:document.querySelector("#user-name").value,phone:document.querySelector("#user-phone").value,mail:document.querySelector("#user-mail").value};emailjs.send("service_aq91ul1","template_5x3s086",e).then((e=>{document.querySelector("#user-name").value="",document.querySelector("#user-phone").value="",document.querySelector("#user-mail").value=""})).catch((e=>console.log(e)))}function showNotify(e,t){const n=document.createElement("div");n.classList.add("message"),n.textContent=e,t.appendChild(n);const o=document.querySelector(".message");setTimeout((()=>o.style.opacity="1"),200),setTimeout((()=>o.style.opacity="0"),3e3),setTimeout((()=>t.removeChild(o)),4e3)}burger.addEventListener("click",(function(){burger.classList.toggle("close-burger")})),$(".excursions__cards").slick({dots:!0,appendDots:".slider-dots",dotsClass:"dots-list",centerMode:!0,infinite:!0,variableWidth:!0,speed:400,arrows:!0,appendArrows:".slider-arrows",nextArrow:'<span class="slider-arrow arrow-left"><svg width="25" height="45" viewBox="0 0 25 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 0.999998L22.5057 20.2655C23.8367 21.4579 23.8367 23.5421 22.5057 24.7345L0.999998 44" stroke="#0499DD" stroke-width="2"/>\n</svg></span>',prevArrow:'<span class="slider-arrow arrow-right"><svg width="25" height="45" viewBox="0 0 25 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M24 0.999998L2.49433 20.2655C1.16332 21.4579 1.16333 23.5421 2.49433 24.7345L24 44" stroke="#0499DD" stroke-width="2"/>\n</svg>\n</span>',responsive:[{breakpoint:756,settings:{arrows:!1}}]}),document.querySelector(".question-form__submit").addEventListener("click",(e=>{formValidation(e,document.querySelector(".question-form"))&&(sendEmail(),showNotify("Ваше повідомлення вислано. Наш прaцівник сконтактується з Вами в найближчому часі.",document.querySelector(".form-container")))}));